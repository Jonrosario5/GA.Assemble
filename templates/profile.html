<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.css"
    />
    
    <title>GA Assemble</title>
  </head>
  <body class="has-navbar-fixed-top">
    {% include 'nav.html' %}
    <br>
  
{% from 'macros.html' import render_user_event, render_attending_event,render_user_topic, render_user_page_topics %}

    <div class='columns'>
        <div class='column is-one-half'>
            <div class="userHeader" style="text-align:center">
                Welcome to GA.Assemble( )  
                <br>
                <span>{{user.username}}</span>
                <br>
                <img src="https://media.giphy.com/media/rRZfOOKROFUqs/giphy.gif" style="border-radius:50%">
            </div>
            <br>
            <div class="editUser">
                <form method="POST" action="{{ url_for('edit_user') }}" style="text-align:center">
                    <h4>Full Name</h4>
                    {{ form.fullname (value=user.fullname)}}
                    <h4>Username</h4>
                    {{ form.username(value=user.username) }}
                    <br>
                    <br>
                    {{ form.submit_edit}}
                </form>

            </div>
        <br>
        <div style="text-align:center">
          <h2>Events You're Hosting:</h2>
          {% for user_event in user_events %}
          {{ render_user_event(user_event) }}
          {% endfor %}
        </div>
        <div style="text-align:center">
          <h2>Events You're Attending:</h2>
          {% for attending_event in attending_events %}
          {{ render_attending_event(attending_event) }}
          {% endfor %}
        </div>
        </div>
        <div class='column is-two-half'>
            <div>
                <H2 style="text-decoration:underline">Current Topics</H2>
                {% for user_topic in user_topics %}
              
                    {{ render_user_topic(user_topic) }}

                {% endfor %}
    

            </div>
            <br>
            <div>
                <H2 style="text-decoration:underline">Add Topics</H2>
                    {% for topic in topics %}

                    {{ render_user_page_topics(topic) }}

                    {% endfor %}
            </div>
        </div>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>
        <script src="{{ url_for('static', filename='app.js')}}"></script>
  </body>
</html>
